; ========================================
; ТЕСТ 1: Базовая арифметика
; ========================================
(print "=== Тест 1: Арифметика ===")
(print (+ 1 2))        ; => 3
(print (* 6 7))        ; => 42
(print (- 100 58))     ; => 42
(print (/ 10 4))       ; => 2.5

; ========================================
; ТЕСТ 2: Переменные
; ========================================
(print "=== Тест 2: Переменные ===")
(let x 10)
(let y 20)
(print (+ x y))        ; => 30
(set x 100)
(print x)              ; => 100

; ========================================
; ТЕСТ 3: Условия
; ========================================
(print "=== Тест 3: Условия ===")
(let age 25)
(print (if (>= age 18) "adult" "minor"))  ; => adult

(let num 42)
(print (if (== (% num 2) 0) "even" "odd")) ; => even

; ========================================
; ТЕСТ 4: Циклы - ФАКТОРИАЛ
; ========================================
(print "=== Тест 4: Факториал 6! ===")
(let n 6)
(let result 1)
(let i 1)
(while (<= i n)
  (do
    (set result (* result i))
    (set i (+ i 1))))
(print result)         ; => 720

; ========================================
; ТЕСТ 5: Циклы - ФИБОНАЧЧИ
; ========================================
(print "=== Тест 5: Фибоначчи(10) ===")
(let n 10)
(let a 0)
(let b 1)
(let i 0)
(while (< i n)
  (do
    (let temp b)
    (set b (+ a b))
    (set a temp)
    (set i (+ i 1))))
(print a)              ; => 55

; ========================================
; ТЕСТ 6: Массивы
; ========================================
(print "=== Тест 6: Массивы ===")
(let arr (array 10 20 30 40 50))
(print (index arr 0))  ; => 10
(print (index arr 2))  ; => 30
(print (length arr))   ; => 5

; Сумма массива
(let sum 0)
(let i 0)
(while (< i (length arr))
  (do
    (set sum (+ sum (index arr i)))
    (set i (+ i 1))))
(print sum)            ; => 150

; ========================================
; ТЕСТ 7: Мутация массива
; ========================================
(print "=== Тест 7: Мутация массива ===")
(let arr2 (array 5 3 8 1 9))
(print arr2)           ; До: [5, 3, 8, 1, 9]
(set-index arr2 0 999)
(print arr2)           ; После: [999, 3, 8, 1, 9]

; ========================================
; ТЕСТ 8: Bubble Sort!
; ========================================
(print "=== Тест 8: Bubble Sort ===")
(let data (array 64 34 25 12 22 11 90))
(let n (length data))
(print data)           ; До сортировки

(let i 0)
(while (< i n)
  (do
    (let j 0)
    (while (< j (- (- n i) 1))
      (do
        (if (> (index data j) (index data (+ j 1)))
          (do
            (let temp (index data j))
            (set-index data j (index data (+ j 1)))
            (set-index data (+ j 1) temp))
          ())
        (set j (+ j 1))))
    (set i (+ i 1))))

(print data)           ; После сортировки

; ========================================
; ТЕСТ 9: Проверка простого числа
; ========================================
(print "=== Тест 9: Простое число? ===")
(let num 17)
(let is-prime true)
(let divisor 2)

(while (and is-prime (<= (* divisor divisor) num))
  (do
    (if (== (% num divisor) 0)
      (set is-prime false)
      ())
    (set divisor (+ divisor 1))))

(print (if is-prime "prime" "not prime"))  ; => prime

; ========================================
; ТЕСТ 10: Вложенные выражения
; ========================================
(print "=== Тест 10: Вложенные выражения ===")
(print (+ (* 2 3) (* 4 5)))  ; => 26
(print (if (and (> 5 3) (< 2 4)) "yes" "no"))  ; => yes

(print "=== ВСЕ ТЕСТЫ ПРОЙДЕНЫ ===")
